1. **权限表**，不存url正则匹配的**$**符号

## 内容

1. git
2. 动态生成左侧菜单(一级菜单)
3. 动态生成二级菜单

## 1. git

```python
git config --global user
git config --global email

git branch 
git branch dev
git checkout dev
git rebase dev
git merge dev
# 在dev上开发，完成功能后合并到 master 分支
# 有bug
git branch bug/debug
# master分支
git merge bug
# dev分支
git merge master
# 删除分支
git branch -d bug
# merge冲突
手动解决冲突后，进行提交
```

```python
# 团队协同开发
分支：master dev 每个人
个人在个人分支上开发
开发完成后，推送到自己的分支
创建pull request 合并到dev分支
审核代码，接收合并
dev 合并到 merge上
```

## 2. 动态生成菜单

```python
# 第一次修改权限表
is_menu = models.BoolenField(default=True, verbose_name='是否是菜单')
icon = models.CharField('图标', max_length=50)
# 同步数据库
```

```python
# 获取权限信息
permissoin_list = []
# 菜单信息
meun_list = []

for i in permissions:
  	permission_list.append({'url': i.get('permission_url')})
    if i.get('permission__is_menu'):
   			menu_list.append({'url': i['permission_url'], 
                          'title':i['permission_title'],
                          'icon':i['permission_icon']})
        
		request.session['meuns'] = menu_list
    request.session['permissions'] = menu_list
    request.session['is_lgoin'] = True
```

```python
# settings.py
# 权限session的key
PERMISSOIN_SESSION_KEY = 'permissions'
# url的
MENUS_SESSION_KEY = 'menus'
```

```python
# 活动菜单变蓝
```

```python
# 第二次加表
class Menu(models.Model):
  	title = models.CharField(max_length=32, verbose_name='菜单')
    icon = models.CharField(max_length=32, verbose_name='图标')
```


